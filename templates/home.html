{% extends 'base.html' %}
{% block title %}ØµÙØ­Ù‡ Ø§Ø®Ø¨Ø§Ø±{% endblock %}

{% block content %}


<!-- ğŸ”· Ø¢Ø®Ø±ÛŒÙ† Ø§Ø®Ø¨Ø§Ø± Ø¯Ø± Ú©Ø§Ø¯Ø± Ø¬Ø¯Ø§ -->
<div style="background: #fff; padding: 20px; border: 1px solid #ccc; border-radius: 10px; box-shadow: 0 2px 5px rgba(0,0,0,0.05);">
    <h2 style="margin-top: 0;">Ø¢Ø®Ø±ÛŒÙ† Ø§Ø®Ø¨Ø§Ø±:</h2>
    <div style="display: flex; gap: 15px; flex-wrap: wrap;">
        {% for item in latest_news %}
            {% if item.main_image %}
            <div style="width: 180px; border: 1px solid #ddd; padding: 5px; text-align: center; border-radius: 6px; background-color: #fafafa;">
                <a href="{% url 'news:news_detail' item.id %}" style="text-decoration: none; color: inherit;">
                    <img src="{{ item.main_image.url }}" alt="{{ item.title }}"
                         style="width: 100%; height: 120px; object-fit: cover; border-radius: 5px;">
                    <p style="margin-top: 8px; font-size: 14px;">{{ item.title }}</p>
                </a>
            </div>
            {% else %}
            <p>{{ item.title }} (Ø¨Ø¯ÙˆÙ† ØªØµÙˆÛŒØ±)</p>
            {% endif %}
        {% endfor %}
    </div>
</div>




<!-- ğŸ”· Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ Ùˆ Ù„ÛŒØ³Øª Ø§Ø®Ø¨Ø§Ø± Ø¯Ø± ÛŒÚ© Ú©Ø§Ø¯Ø± -->
<div style="background: #fff; padding: 20px; border: 1px solid #ddd; border-radius: 10px; margin-bottom: 30px; box-shadow: 0 2px 5px rgba(0,0,0,0.05);">

    <!-- ğŸ”¹ ØªØ¨ Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ -->
    <div style="margin-bottom: 20px;">
        <strong>Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ:</strong>
        <a href="{% url 'home' %}" style="margin-left: 10px; color: {% if not selected_category_id %}red{% else %}black{% endif %};">Ù‡Ù…Ù‡</a>
        {% for category in categories %}
            <a href="?category={{ category.id }}" style="margin-left: 10px; color: {% if selected_category_id == category.id %}red{% else %}black{% endif %};">
                {{ category.name }}
            </a>
        {% endfor %}
    </div>

    <!-- ğŸ”¹ Ù„ÛŒØ³Øª Ø§Ø®Ø¨Ø§Ø± Ø¨Ø§ Ø¹Ù†ÙˆØ§Ù† -->
    <ul class="news-list" style="list-style-type: disc; padding-right: 40px;">
        {% for item in page_obj %}
            {% if item.id %}
            <li style="margin-bottom: 10px;">
                <a href="{% url 'news:news_detail' item.id %}">
                    <strong>{{ item.title }}</strong>
                </a>
            </li>
            {% endif %}
        {% empty %}
            <li>Ù‡ÛŒÚ† Ø®Ø¨Ø±ÛŒ Ø¯Ø± Ø§ÛŒÙ† Ø¯Ø³ØªÙ‡ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯.</li>
        {% endfor %}
    </ul>

    <!-- ğŸ”¹ ØµÙØ­Ù‡â€ŒØ¨Ù†Ø¯ÛŒ -->
    <div class="pagination" style="text-align: center; margin-top: 20px;">
        {% if page_obj.has_previous %}
            <a href="?page={{ page_obj.previous_page_number }}{% if selected_category_id %}&category={{ selected_category_id }}{% endif %}">ØµÙØ­Ù‡ Ù‚Ø¨Ù„</a>
        {% endif %}

        <span>ØµÙØ­Ù‡ {{ page_obj.number }} Ø§Ø² {{ page_obj.paginator.num_pages }}</span>

        {% if page_obj.has_next %}
            <a href="?page={{ page_obj.next_page_number }}{% if selected_category_id %}&category={{ selected_category_id }}{% endif %}">ØµÙØ­Ù‡ Ø¨Ø¹Ø¯</a>
        {% endif %}
    </div>
</div>



{% endblock %}
