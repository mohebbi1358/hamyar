<!DOCTYPE html>
{% load static %}


<html lang="fa">
<head>
    <!-- Bootstrap CSS (RTL) -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.rtl.min.css" rel="stylesheet">

    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">

    <meta charset="UTF-8">
    <title>{% block title %}سایت همیار{% endblock %}</title>
    <style>

        form .form-group {
        display: flex;
        flex-direction: column;
        margin-bottom: 20px;
        }

        form .form-label {
        font-weight: 600;
        margin-bottom: 5px;
        color: #444;
        }

        form input[type="text"],
        form input[type="file"],
        form textarea,
        form select {
        padding: 10px;
        border-radius: 8px;
        border: 1px solid #ccc;
        font-size: 15px;
        box-sizing: border-box;
        }

        form .text-danger {
        font-size: 13px;
        color: #d32f2f;
        margin-top: 5px;
        }

        form button.submit-btn {
        margin-top: 30px;
        width: 100%;
        padding: 12px;
        background-color: #2196f3;
        color: white;
        border: none;
        border-radius: 8px;
        font-size: 16px;
        transition: background-color 0.3s;
        }

        form button.submit-btn:hover {
        background-color: #1976d2;
        }

        
        
        
        .alert-danger {
        background-color: #dc3545 !important; /* قرمز Bootstrap */
        color: #fff !important;               /* سفید برای خوانایی */
        }

        .alert-success {
        background-color: #198754 !important; /* سبز Bootstrap */
        color: #fff !important;               /* سفید برای خوانایی */
        }

        .alert-warning {
        background-color: #ffc107 !important;
        color: #000 !important;
        }

        .alert-info {
        background-color: #0dcaf0 !important;
        color: #000 !important;
        }

        body {
            font-family: sans-serif;
            margin: 0;
            padding: 0;
            direction: rtl;
            background-color: #ffffff;
        }

        header {
            background-color: #ffffff; /* یا transparent */
            padding: 0;
        }

        footer {
            background-color: #333;
            color: white;
            padding: 10px 20px;
        }


        nav ul {
            list-style: none;
            display: flex;
            justify-content: flex-start;
            gap: 20px;
            padding: 0;
            margin: 0;
        }

        nav ul li {
            position: relative;
        }

        nav ul li a {
            color: rgb(0, 0, 0);
            text-decoration: none;
            padding: 8px;
            display: block;
        }

        nav ul li:hover > a {
            background-color: #444;
            border-radius: 4px;
        }

        .profile-menu {
            position: absolute;
            right: 0;
            background: #fff;
            color: #000;
            list-style: none;
            padding: 0;
            margin: 0;
            display: none;
            min-width: 180px;
            border: 1px solid #ccc;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            z-index: 1000;
        }

        .profile-menu li a {
            color: #000;
            padding: 10px;
            display: block;
            text-decoration: none;
        }

        .profile-menu li a:hover {
            background-color: #f0f0f0;
        }

        nav ul li:hover .profile-menu {
            display: block;
        }

        main {
            padding: 20px;
        }

        footer nav ul {
            flex-wrap: wrap;
            gap: 15px;
        }
    </style>
    <!-- Persian Datepicker CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/persian-datepicker@1.2.0/dist/css/persian-datepicker.min.css">
    <!-- Cropper.js CSS -->
    <!-- <link href="https://cdn.jsdelivr.net/npm/cropperjs@1.5.13/dist/cropper.min.css" rel="stylesheet"/>  -->


{% block extra_css %}{% endblock %}



</head>
<body>

<header>
    <nav style="
        background-color: rgba(43, 247, 247, 0.85);
        display: flex;
        justify-content: space-between;
        align-items: stretch;
        padding: 12px 20px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.15);
        border-radius: 8px;
        backdrop-filter: saturate(180%) blur(10px);
        -webkit-backdrop-filter: saturate(180%) blur(10px);
    ">
        <!-- لوگو سمت راست -->
        <div style="flex: 0 0 auto; text-align: center; margin-left: 1cm; display: flex; flex-direction: column; justify-content: center;">
            <a href="/">
                <img src="{% static 'images/logo.png' %}" alt="Logo" style="height: 70px;">
            </a>
        </div>

        <!-- منو + نوشته زیر آن -->
        <div style="flex: 1; display: flex; flex-direction: column; justify-content: center;">
            <!-- ردیف منو -->
            <ul style="
                display: flex;
                flex-wrap: wrap;
                justify-content: flex-start;
                gap: 20px;
                list-style: none;
                margin: 0;
                padding: 0;
            ">
                <li><a href="/">خانه</a></li>
                <li><a href="/martyrs/list/">شهدا</a></li>
                <li><a href="{% url 'eternals:list' %}">جاودانه‌ها</a></li>
                <li><a href="{% url 'news:news_list' %}">اخبار</a></li>
                <li><a href="{% url 'donation:donate' %}">صدقه</a></li>

                {% if user.is_authenticated %}
                    <li><a href="{% url 'wallet:charge_wallet' %}">شارژ کیف پول</a></li>
                    <li><a href="{% url 'accounts:dashboard' %}">داشبورد</a></li>
                {% else %}
                    <li><a href="{% url 'accounts:login' %}?next={% url 'wallet:charge_wallet' %}">شارژ کیف پول</a></li>
                    <li><a href="{% url 'accounts:login' %}?next={% url 'accounts:dashboard' %}">پروفایل</a></li>
                {% endif %}

                {% if user.is_authenticated %}
                    <li>
                        <a href="#">
                            {% if user.gender == 'male' %}
                                آقای {{ user.last_name }}
                            {% elif user.gender == 'female' %}
                                خانم {{ user.last_name }}
                            {% else %}
                                {{ user.get_full_name|default:user.phone }}
                            {% endif %}
                        </a>
                        <ul class="profile-menu">
                            <li><a href="{% url 'accounts:dashboard' %}">داشبورد</a></li>
                            <li><a href="{% url 'accounts:complete_profile' %}?phone={{ user.phone }}">ویرایش پروفایل</a></li>

                            {% if user.allowed_categories.exists %}
                                <li><a href="{% url 'news:create_news' %}">ارسال خبر</a></li>
                                <li><a href="{% url 'eternals:create' %}">افزودن جاودانه جدید</a></li>
                            {% endif %}

                            <li><a href="{% url 'martyrs:create_martyr' %}">افزودن شهید</a></li>

                            {% if user.is_staff %}
                                <li><a href="{% url 'accounts:user_list' %}">مدیریت کاربران</a></li>
                            {% endif %}

                            <li><a href="{% url 'accounts:logout' %}">خروج</a></li>
                        </ul>

                    </li>
                {% else %}
                    <li><a href="{% url 'accounts:login' %}">ورود</a></li>
                {% endif %}
            </ul>

            <!-- نوشته زیر منو -->
            <div style="margin-top: 10px; font-weight: bold; font-size: 1.2em; color: #004141;">
                همه با هم 
            </div>
        </div>
    </nav>
</header>



{% if messages %}
  <div class="container mt-3">
    {% for message in messages %}
      <div class="alert alert-{% if message.tags == 'error' %}danger{% else %}{{ message.tags }}{% endif %} alert-dismissible fade show" role="alert">

        {{ message }}
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="بستن"></button>
      </div>
    {% endfor %}
  </div>
{% endif %}


<main>
    {% block content %}{% endblock %}
</main>

<footer style="
    background-color: #2bf7f7a6;
    text-align: center;
    padding: 1.5em;
    font-family: 'Vazirmatn', sans-serif;
    font-size: 1.2em;
    font-weight: bold;
    color: #003c3c;
    box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
    border-top: 2px solid #2bf7f7a6;
    letter-spacing: 1px;
">
    یار هم می‌مانیم 💚
</footer>

<!-- jQuery -->
<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>

<!-- Persian Date core -->
<script src="https://cdn.jsdelivr.net/npm/persian-date@1.0.6/dist/persian-date.min.js"></script>

<!-- Persian Datepicker -->
<script src="https://cdn.jsdelivr.net/npm/persian-datepicker@1.2.0/dist/js/persian-datepicker.min.js"></script>


<!-- Bootstrap Bundle JS (includes Popper) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>



{% block scripts %}{% endblock %}
<!-- Cropper.js JS -->
<!-- <script src="https://cdn.jsdelivr.net/npm/cropperjs@1.5.13/dist/cropper.min.js"></script> -->

{% block extra_js %}
{% endblock %}

</body>
</html>


